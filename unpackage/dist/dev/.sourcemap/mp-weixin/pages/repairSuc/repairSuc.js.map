{"version":3,"sources":["webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?7cc6","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?2fef","webpack:///C:/Users/11851/Desktop/xiaci2/main.js","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?9209","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?ea8c","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?068c","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue?1a82","webpack:///C:/Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue"],"names":["createPage","Page","recorderManager","uni","getRecorderManager","innerAudioContext","createInnerAudioContext","time1","app","getApp","data","id","imgArr","shoeboxImgArr","shoeboxImgResArr","qiniuToken","is_value","voice","is_recode","recode_load","is_recode_end","time","result_time","isplay","remarks","checked","totalPrice","scheme","items","value","name","onLoad","then","res","bar_id","shapecode","length","end_image","JSON","parse","sound","upShapeCode","upJSName","username","forEach","item","is_xi","is_xiu","console","log","computed","methods","checkboxChange","e","values","detail","i","lenI","includes","$set","isPlayImg","ext","path","fullPath","Exhibition","test","globalData","qiniuImgUrl","add_shoeboxImg","that","chooseImage","sizeType","sourceType","success","concat","tempFilePaths","add_img","deteleImg","index","currentTarget","dataset","arr","splice","add_remarks","isRecode","stopRecode","startRecode","options","duration","sampleRate","numberOfChannels","encodeBitRate","format","frameSize","start","onStart","onError","stop","onStop","Math","round","tempFilePath","playRecode","src","play","num","setInterval","clearInterval","parseInt","parseFloat","stop_play","remove_record","upImgs","qiuniuToken","resultImgArr","push","Promise","resolve","reject","imgName","substr","qiniuUploader","upload","imageURL","error","region","uploadURL","domain","key","uptoken","upRecord","file","recordName","is_return","redirectTo","url","is_submit","showLoading","mask","title","hideLoading","showToast","icon","type_s","Set","wash_id","getStorageSync","jsId","message","complete","code","setTimeout","catch"],"mappings":"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","file":"pages/repairSuc/repairSuc.js","sourcesContent":["import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repairSuc.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repairSuc.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/repairSuc/repairSuc.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./repairSuc.vue?vue&type=template&id=6a83febe&\"\nimport script from \"./repairSuc.vue?vue&type=script&lang=js&\"\nexport * from \"./repairSuc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./repairSuc.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6a83febe', component.options)\n    } else {\n      api.reload('6a83febe', component.options)\n    }\n    module.hot.accept(\"./repairSuc.vue?vue&type=template&id=6a83febe&\", function () {\n      api.rerender('6a83febe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/11851/Desktop/xiaci2/pages/repairSuc/repairSuc.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repairSuc.vue?vue&type=template&id=6a83febe&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.shoeboxImgArr, function(item, index) {\n    var m0 = _vm.Exhibition(item)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repairSuc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repairSuc.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex';\nconst recorderManager = uni.getRecorderManager();\nconst innerAudioContext = uni.createInnerAudioContext();\nlet time1 = '';\nimport qiniuUploader from '../../utils/qiniuUploader.js'; //七牛sdk\nimport request from '../../utils/request.js';\nimport globalData from '../../common/global.js';\nconst app = getApp();\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tid: '',\n\t\t\timgArr: [],\n\t\t\tshoeboxImgArr: [],\n\t\t\tshoeboxImgResArr: [],\n\t\t\tqiniuToken: '',\n\t\t\tis_value: '',\n\t\t\tvoice: '',\n\t\t\tis_recode: false,\n\t\t\trecode_load: false,\n\t\t\tis_recode_end: false,\n\t\t\ttime: 0,\n\t\t\tresult_time: '--:--',\n\t\t\tisplay: false,\n\t\t\tremarks: '',\n\t\t\tchecked: [],\n\t\t\ttotalPrice: 0,\n\t\t\tscheme: [],\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tvalue: 'is_xi',\n\t\t\t\t\tname: '清洗',\n\t\t\t\t\tchecked: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: 'is_xiu',\n\t\t\t\t\tname: '修复',\n\t\t\t\t\tchecked: false\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tonLoad() {\n\t\trequest('/api/auth/getQiniuToken', 'POST', {}).then(res => {\n\t\t\tthis.qiniuToken = res.data;\n\t\t});\n\t\trequest('/api/auth/getOrder', 'POST', {\n\t\t\tbar_id: this.shapecode\n\t\t}).then(res => {\n\t\t\tif (res.data.length) {\t\t\t\t\t\n\t\t\t\tthis.shoeboxImgArr = res.data[0].end_image === null ? [] : JSON.parse(res.data[0].end_image);\n\t\t\t\tthis.shoeboxImgResArr = res.data[0].end_image === null ? [] : JSON.parse(res.data[0].end_image);\n\t\t\t\tthis.sound = res.data[0].sound;\n\t\t\t\tthis.upShapeCode(res.data[0].bar_id);\n\t\t\t\tthis.upJSName(res.data[0].username);\n\t\t\t\tthis.items.forEach(item => {\n\t\t\t\t\tif (item.value === 'is_xi' && res.data[0].is_xi === 1) {\n\t\t\t\t\t\titem.checked = true;\n\t\t\t\t\t} else if (item.value === 'is_xiu' && res.data[0].is_xiu === 1) {\n\t\t\t\t\t\titem.checked = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.checked = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.log(res);\n\t\t\t}\n\t\t})\n\t},\n\tcomputed: {\n\t\t...mapState(['jsName', 'shapecode', 'jsId'])\n\t},\n\tmethods: {\n\t\t...mapMutations(['upShapeCode', 'upJSName']),\n\t\tcheckboxChange: function(e) {\n\t\t\tlet items = this.items,\n\t\t\t\tvalues = e.detail.value;\n\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\tconst item = items[i];\n\t\t\t\tif (values.includes(item.value)) {\n\t\t\t\t\tthis.$set(item, 'checked', true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(item, 'checked', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(this.items);\n\t\t},\n\t\tisPlayImg(isplay) {\n\t\t\tconst ext = isplay ? \"gif\" : \"png\";\n\t\t\tlet path = \"../../static/images/play_bg.\";\n\t\t\tconst fullPath = path + ext;\n\t\t\treturn fullPath;\n\t\t},\n\t\tExhibition(path) {\n\t\t\tif (!/static\\.tosneaker\\.com/ig.test(path) && !/tmp/ig.test(path)) {\n\t\t\t\treturn globalData.qiniuImgUrl + path;\n\t\t\t}\n\t\t\treturn path;\n\t\t},\n\t\t// 添加鞋盒正面照图片\n\t\tadd_shoeboxImg() {\n\t\t\tconst that = this;\n\t\t\tlet imgArr = this.shoeboxImgArr;\n\t\t\tconsole.log(imgArr);\n\t\t\tuni.chooseImage({\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.shoeboxImgArr = imgArr.concat(res.tempFilePaths);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 添加修复或不可修复的图片\n\t\tadd_img() {\n\t\t\tlet that = this;\n\t\t\tlet imgArr = that.imgArr;\n\t\t\tuni.chooseImage({\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.imgArr = imgArr.concat(res.tempFilePaths);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 删除图片\n\t\tdeteleImg(e) {\n\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\tlet arr = this.imgArr;\n\t\t\tarr.splice(index, 1)\n\t\t\tthis.imgArr = arr\n\t\t},\n\t\t// 添加备注\n\t\tadd_remarks(e) {\n\t\t\tlet value = e.detail.value;\n\t\t\tthis.remarks = value;\n\t\t},\n\t\t// 判断是否开始录音\n\t\tisRecode(is_recode) {\n\t\t\tif (is_recode) {\n\t\t\t\tthis.stopRecode();\n\t\t\t} else {\n\t\t\t\tthis.startRecode();\n\t\t\t}\n\t\t},\n\t\t// 开始录音\n\t\tstartRecode() {\n\t\t\tconst options = {\n\t\t\t\tduration: 10000, //指定录音的时长，单位 ms\n\t\t\t\tsampleRate: 16000, //采样率\n\t\t\t\tnumberOfChannels: 1, //录音通道数\n\t\t\t\tencodeBitRate: 96000, //编码码率\n\t\t\t\tformat: 'mp3', //音频格式，有效值 aac/mp3\n\t\t\t\tframeSize: 50, //指定帧大小，单位 KB\n\t\t\t}\n\t\t\t//开始录音\n\t\t\trecorderManager.start(options);\n\t\t\trecorderManager.onStart(() => {\n\t\t\t\tconsole.log('recorder start')\n\t\t\t});\n\t\t\t//错误回调\n\t\t\trecorderManager.onError((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\tthis.recode_load = true;\n\t\t\tthis.is_recode = true;\n\t\t},\n\t\t// 结束录音\n\t\tstopRecode() {\n\t\t\tlet that = this;\n\t\t\t//停止录音\n\t\t\trecorderManager.stop();\n\t\t\trecorderManager.onStop((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.time = Math.round((res.duration / 1000));\n\t\t\t\tthis.is_recode = false;\n\t\t\t\tthis.voice = res.tempFilePath;\n\t\t\t\tthis.is_recode_end = true;\n\t\t\t\tthis.recode_load = false;\n\t\t\t\tconsole.log('停止录音', res.tempFilePath)\n\t\t\t})\n\t\t},\n\t\t// 播放录音\n\t\tplayRecode() {\n\t\t\tlet that = this;\n\t\t\tlet time = this.time;\n\t\t\tinnerAudioContext.src = that.voice;\n\t\t\tinnerAudioContext.play();\n\t\t\tlet num = 0;\n\t\t\tthis.isplay = true\n\t\t\ttime1 = setInterval(() => {\n\t\t\t\tnum++\n\t\t\t\tconsole.log(time)\n\t\t\t\tif (num > time) {\n\t\t\t\t\tclearInterval(time1);\n\t\t\t\t\tinnerAudioContext.stop();\n\t\t\t\t\tthat.isplay = false\n\t\t\t\t} else {\n\t\t\t\t\tlet result_time = parseInt(num / 60) + \":\" + parseInt((parseFloat(num / 60) -\n\t\t\t\t\t\tparseInt(num / 60)) * 60);\n\t\t\t\t\tthis.result_time = result_time;\n\t\t\t\t}\n\t\t\t}, 1000)\n\t\t},\n\t\t// 停止播放\n\t\tstop_play() {\n\t\t\tclearInterval(time1);\n\t\t\tinnerAudioContext.stop();\n\t\t\tthis.isplay = false\n\t\t},\n\t\t// 删除音频\n\t\tremove_record() {\n\t\t\tconsole.log(11);\n\t\t\tthis.voice = ''\n\t\t\tthis.is_recode = false\n\t\t\tthis.recode_load = false\n\t\t\tthis.is_recode_end = false\n\t\t\tthis.time = 0\n\t\t\tthis.result_time = '--:--'\n\t\t\tthis.isplay = false\n\t\t},\n\t\t// 上传图片到七牛\n\t\tupImgs(imgArr, qiuniuToken) {\n\t\t\tlet that = this;\n\t\t\tlet resultImgArr = [];\n\n\t\t\tconst arr = [];\n\n\t\t\timgArr.forEach(item => {\n\t\t\t\tif (!/static\\.tosneaker\\.com/ig.test(item)  && !/uploads/ig.test(item)) {\n\t\t\t\t\tarr.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (arr.length === 0) {\n\t\t\t\treturn Promise.resolve(imgArr);\n\t\t\t}\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tarr.forEach(item => {\n\t\t\t\t\tvar imgName = item.substr(30, 50);\n\t\t\t\t\tqiniuUploader.upload(item, res => {\n\t\t\t\t\t\tresultImgArr.push(res.imageURL);\n\t\t\t\t\t\tthat.resultImgArr = resultImgArr;\n\t\t\t\t\t\tif (resultImgArr.length == arr.length) {\n\t\t\t\t\t\t\tresolve(resultImgArr)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, error => {\n\t\t\t\t\t\treject(error)\n\t\t\t\t\t}, {\n\t\t\t\t\t\tregion: 'NCN',\n\t\t\t\t\t\tuploadURL: 'https://upload-z1.qiniup.com',\n\t\t\t\t\t\tdomain: app.globalData.qiniuImgUrl,\n\t\t\t\t\t\tkey: 'uploads/wash/' + imgName,\n\t\t\t\t\t\tuptoken: qiuniuToken\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 上传录音\n\t\tupRecord(file, qiuniuToken) {\n\t\t\tlet that = this;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tvar recordName = file.substr(30, 50);\n\t\t\t\tqiniuUploader.upload(file, res => {\n\t\t\t\t\tresolve(res)\n\t\t\t\t}, error => {\n\t\t\t\t\treject(error)\n\t\t\t\t}, {\n\t\t\t\t\tregion: 'NCN',\n\t\t\t\t\tuploadURL: 'https://upload-z1.qiniup.com',\n\t\t\t\t\tdomain: app.globalData.qiniuImgUrl,\n\t\t\t\t\tkey: 'uploads/record/' + recordName,\n\t\t\t\t\tuptoken: qiuniuToken\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 重新选择\n\t\tis_return() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '../check/check',\n\t\t\t})\n\t\t},\n\t\t// 提交按钮\n\t\tis_submit() {\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true,\n\t\t\t\ttitle: \"加载中...\"\n\t\t\t});\n\t\t\tif (this.shoeboxImgArr.length == 0) {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '至少添加一张修复完成图片',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.shapecode === '') {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '条形码为必填项',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet that = this;\n\t\t\tlet sound = '';\n\t\t\tlet type_s = {};\n\t\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\t\tif (this.items[i].checked) {\n\t\t\t\t\ttype_s[[this.items[i].value]] = 1;\n\t\t\t\t} else {\n\t\t\t\t\ttype_s[[this.items[i].value]] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (that.voice !== \"\") {\n\t\t\t\tthat.upRecord(that.voice, that.qiniuToken).then(res => {\n\t\t\t\t\tsound = res.imageURL;\n\t\t\t\t\tconsole.log(sound);\n\t\t\t\t\tthat.upImgs(this.shoeboxImgArr, that.qiniuToken).then(end_image => {\n\t\t\t\t\t\tend_image = [...new Set(end_image.concat(...this.shoeboxImgResArr))];\n\t\t\t\t\t\tconsole.log(end_image);\n\t\t\t\t\t\trequest(\"/api/auth/setDone\", \"POST\", {\n\t\t\t\t\t\t\twash_id: JSON.parse(uni.getStorageSync('user'))['id'] || that.jsId,\n\t\t\t\t\t\t\tbar_id: this.shapecode,\n\t\t\t\t\t\t\tend_image,\n\t\t\t\t\t\t\tremarks: that.remarks,\n\t\t\t\t\t\t\tsound,\n\t\t\t\t\t\t\tis_xi: type_s['is_xi'],\n\t\t\t\t\t\t\tis_xiu: type_s['is_xiu']\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\turl: \"../sweep/sweep\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '图片上传失败',\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}).catch((res) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '录音上传失败',\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthat.upImgs(this.shoeboxImgArr, that.qiniuToken).then(end_image => {\n\t\t\t\t\tend_image = [...new Set(end_image.concat(...this.shoeboxImgResArr))];\n\t\t\t\t\tconsole.log(end_image);\n\t\t\t\t\trequest(\"/api/auth/setDone\", \"POST\", {\n\t\t\t\t\t\twash_id: JSON.parse(uni.getStorageSync('user'))['id'] || that.jsId,\n\t\t\t\t\t\tbar_id: that.shapecode,\n\t\t\t\t\t\tend_image,\n\t\t\t\t\t\tremarks: that.remarks,\n\t\t\t\t\t\tsound,\n\t\t\t\t\t\tis_xi: type_s['is_xi'],\n\t\t\t\t\t\tis_xiu: type_s['is_xiu']\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl: \"../sweep/sweep\"\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '图片上传失败',\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n"],"sourceRoot":""}