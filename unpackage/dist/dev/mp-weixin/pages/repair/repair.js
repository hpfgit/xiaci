(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/repair/repair"],{

/***/ 70:
/*!********************************************************************************!*\
  !*** C:/Users/11851/Desktop/xiaci2/main.js?{"page":"pages%2Frepair%2Frepair"} ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _repair = _interopRequireDefault(__webpack_require__(/*! ./pages/repair/repair.vue */ 71));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_repair.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 71:
/*!*************************************************************!*\
  !*** C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./repair.vue?vue&type=template&id=55daf734& */ 72);
/* harmony import */ var _repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./repair.vue?vue&type=script&lang=js& */ 74);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./repair.vue?vue&type=style&index=0&lang=css& */ 76);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 17);






/* normalize component */

var component = Object(_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__["render"],
  _repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "Users/11851/Desktop/xiaci2/pages/repair/repair.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 72:
/*!********************************************************************************************!*\
  !*** C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=template&id=55daf734& ***!
  \********************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repair.vue?vue&type=template&id=55daf734& */ 73);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_template_id_55daf734___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 73:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=template&id=55daf734& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 = _vm.isPlayImg(_vm.isplay)
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0
      }
    }
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 74:
/*!**************************************************************************************!*\
  !*** C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repair.vue?vue&type=script&lang=js& */ 75);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 75:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;














































































var _vuex = __webpack_require__(/*! vuex */ 14);






var _qiniuUploader = _interopRequireDefault(__webpack_require__(/*! ../../utils/qiniuUploader.js */ 41));
var _request = _interopRequireDefault(__webpack_require__(/*! ../../utils/request.js */ 12));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter) {if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;}}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};var ownKeys = Object.keys(source);if (typeof Object.getOwnPropertySymbols === 'function') {ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {return Object.getOwnPropertyDescriptor(source, sym).enumerable;}));}ownKeys.forEach(function (key) {_defineProperty(target, key, source[key]);});}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var recorderManager = uni.getRecorderManager();var innerAudioContext = uni.createInnerAudioContext();var time1 = '';
var app = getApp();var _default =

{
  data: function data() {
    return {
      id: '',
      imgArr: [],
      imgArrRes: [],
      shoeboxImgArr: [],
      repairImgArr: [],
      shoeboxImgResArr: [],
      repairImgResArr: [],
      resultImgArr: [],
      unrepair_image: [],
      unrepair_imageRes: [],
      qiniuToken: '',
      is_value: '',
      voice: '',
      is_recode: false,
      recode_load: false,
      is_recode_end: false,
      time: 0,
      result_time: '--:--',
      isplay: false,
      remarks: '',
      checked: [],
      totalPrice: 0,
      scheme: [],
      items: [
      {
        value: 'is_xi',
        name: '清洗',
        checked: true },

      {
        value: 'is_xiu',
        name: '修复' }],


      resData: [] };

  },
  onLoad: function onLoad() {var _this = this;
    (0, _request.default)('/api/auth/getQiniuToken', 'POST', {}).then(function (res) {
      console.log(res);
      _this.qiniuToken = res.data;
    });
    (0, _request.default)('/api/auth/getOrder', 'POST', {
      bar_id: this.shapecode }).
    then(function (res) {
      console.log(res);
      if (res.data.length) {
        _this.resData = res.data;
        _this.shoeboxImgArr = res.data[0].shoes_image === null ? [] : JSON.parse(res.data[0].shoes_image);
        _this.shoeboxImgResArr = res.data[0].shoes_image === null ? [] : JSON.parse(res.data[0].shoes_image);
        _this.imgArr = res.data[0].original_image === null ? [] : JSON.parse(res.data[0].original_image);
        _this.imgArrRes = res.data[0].original_image === null ? [] : JSON.parse(res.data[0].original_image);
        _this.unrepair_image = res.data[0].end_image === null ? [] : JSON.parse(res.data[0].end_image);
        _this.unrepair_imageRes = res.data[0].end_image === null ? [] : JSON.parse(res.data[0].end_image);
        _this.sound = res.data[0].sound;
        _this.upShapeCode(res.data[0].bar_id);
        _this.upJSName(res.data[0].username);
      }
    });
  },
  computed: _objectSpread({},
  (0, _vuex.mapState)(['jsName', 'shapecode', 'jsId'])),

  methods: _objectSpread({},
  (0, _vuex.mapMutations)(['upJSName', 'upShapeCode']), {
    checkboxChange: function checkboxChange(e) {
      var items = this.items,
      values = e.detail.value;
      for (var i = 0, lenI = items.length; i < lenI; ++i) {
        var item = items[i];
        if (values.includes(item.value)) {
          this.$set(item, 'checked', true);
        } else {
          this.$set(item, 'checked', false);
        }
      }
    },
    // 是否播放
    isPlayImg: function isPlayImg(isplay) {
      var ext = isplay ? "gif" : "png";
      var path = "../../static/images/play_bg.";
      var fullPath = path + ext;
      return fullPath;
    },
    // 添加鞋盒正面照图片
    add_shoeboxImg: function add_shoeboxImg() {
      var that = this;
      var imgArr = this.shoeboxImgArr;
      console.log(imgArr);
      uni.chooseImage({
        sizeType: ['original', 'compressed'],
        sourceType: ['album', 'camera'],
        success: function success(res) {
          console.log(res, that);
          that.shoeboxImgArr = imgArr.concat(res.tempFilePaths);
        } });

    },
    // 添加修复或不可修复的图片
    add_img: function add_img() {
      var that = this;
      var imgArr = that.imgArr;
      uni.chooseImage({
        sizeType: ['original', 'compressed'],
        sourceType: ['album', 'camera'],
        success: function success(res) {
          that.imgArr = imgArr.concat(res.tempFilePaths);
        } });

    },
    // 添加修复后图片
    add_unrepair_img: function add_unrepair_img() {
      var that = this;
      var imgArr = that.unrepair_image;
      uni.chooseImage({
        sizeType: ['original', 'compressed'],
        sourceType: ['album', 'camera'],
        success: function success(res) {
          that.unrepair_image = imgArr.concat(res.tempFilePaths);
        } });

    },
    // 删除图片
    deteleImg: function deteleImg(e) {
      var index = e.currentTarget.dataset.index;
      this.shoeboxImgArr.splice(index, 1);
      if (index <= this.shoeboxImgResArr.length - 1) {
        this.shoeboxImgResArr.splice(index, 1);
      }
    },
    // 删除图片
    deteleImg2: function deteleImg2(e) {
      var index = e.currentTarget.dataset.index;
      this.imgArr.splice(index, 1);
      if (index <= this.imgArrRes.length - 1) {
        this.imgArrRes.splice(index, 1);
      }
    },
    // 删除图片
    deteleImg3: function deteleImg3(e) {
      var index = e.currentTarget.dataset.index;
      this.unrepair_image.splice(index, 1);
      if (index <= this.unrepair_imageRes.length - 1) {
        this.unrepair_imageRes.splice(index, 1);
      }
      console.log(this.unrepair_imageRes);
    },
    // 添加备注
    add_remarks: function add_remarks(e) {
      var value = e.detail.value;
      this.remarks = value;
    },
    // 判断是否开始录音
    isRecode: function isRecode(is_recode) {
      if (is_recode) {
        this.stopRecode();
      } else {
        this.startRecode();
      }
    },
    // 开始录音
    startRecode: function startRecode() {
      console.log(11);
      var options = {
        duration: 10000, //指定录音的时长，单位 ms
        sampleRate: 16000, //采样率
        numberOfChannels: 1, //录音通道数
        encodeBitRate: 96000, //编码码率
        format: 'mp3', //音频格式，有效值 aac/mp3
        frameSize: 50 //指定帧大小，单位 KB

        //开始录音
      };recorderManager.start(options);
      recorderManager.onStart(function () {
        console.log('recorder start');
      });
      //错误回调
      recorderManager.onError(function (res) {
        console.log(res);
      });
      this.recode_load = true;
      this.is_recode = true;
    },
    // 结束录音
    stopRecode: function stopRecode() {var _this2 = this;
      console.log(22);
      var that = this;
      //停止录音
      recorderManager.stop();
      recorderManager.onStop(function (res) {
        console.log(res);
        _this2.time = Math.round(res.duration / 1000);
        _this2.is_recode = false;
        _this2.voice = res.tempFilePath;
        _this2.is_recode_end = true;
        _this2.recode_load = false;
        console.log('停止录音', res.tempFilePath);
      });
    },
    // 播放录音
    playRecode: function playRecode() {var _this3 = this;
      var that = this;
      var time = this.time;
      innerAudioContext.src = that.voice;
      innerAudioContext.play();
      var num = 0;
      this.isplay = true;
      time1 = setInterval(function () {
        num++;
        console.log(time);
        if (num > time) {
          clearInterval(time1);
          innerAudioContext.stop();
          that.isplay = false;
        } else {
          var result_time = parseInt(num / 60) + ":" + parseInt((parseFloat(num / 60) -
          parseInt(num / 60)) * 60);
          _this3.result_time = result_time;
        }
      }, 1000);
    },
    // 停止播放
    stop_play: function stop_play() {
      clearInterval(time1);
      innerAudioContext.stop();
      this.isplay = false;
    },
    // 删除音频
    remove_record: function remove_record() {
      console.log(11);
      this.voice = '';
      this.is_recode = false;
      this.recode_load = false;
      this.is_recode_end = false;
      this.time = 0;
      this.result_time = '--:--';
      this.isplay = false;
    },
    // 上传图片到七牛
    upImgs: function upImgs(imgArr, qiuniuToken) {
      var that = this;
      var resultImgArr = [];

      var arr = [];

      imgArr.forEach(function (item) {
        if (!/static\.tosneaker\.com/ig.test(item) || !/uploads/ig.test(item)) {
          arr.push(item);
        }
      });
      console.log(imgArr);

      if (arr.length === 0) {
        return Promise.resolve(imgArr);
      }

      return new Promise(function (resolve, reject) {
        arr.forEach(function (item) {
          var imgName = item.substr(30, 50);
          _qiniuUploader.default.upload(item, function (res) {
            resultImgArr.push(res.imageURL);
            if (resultImgArr.length == arr.length) {
              resolve(resultImgArr);
            }
          }, function (error) {
            reject(error);
          }, {
            region: 'NCN',
            uploadURL: 'https://upload-z1.qiniup.com',
            domain: app.globalData.qiniuImgUrl,
            key: 'uploads/wash/' + imgName,
            uptoken: qiuniuToken });

        });
      });
    },
    // 上传录音
    upRecord: function upRecord(file, qiuniuToken) {
      var that = this;
      return new Promise(function (resolve, reject) {
        var recordName = file.substr(30, 50);
        _qiniuUploader.default.upload(file, function (res) {
          resolve(res);
        }, function (error) {
          reject(error);
        }, {
          region: 'NCN',
          uploadURL: 'https://upload-z1.qiniup.com',
          domain: app.globalData.qiniuImgUrl,
          key: 'uploads/record/' + recordName,
          uptoken: qiuniuToken });

      });
    },
    // 重新选择
    is_return: function is_return() {
      uni.redirectTo({
        url: '../check/check' });

    },
    // 提交按钮
    is_submit: function is_submit() {var _this4 = this;
      uni.showLoading({
        mask: true,
        title: "加载中..." });

      var sound = '';
      if (this.imgArr.length == 0) {
        uni.hideLoading();
        uni.showToast({
          title: '至少添加一张瑕疵图片',
          icon: "none" });

        return;
      }
      if (this.shapecode === "") {
        uni.hideLoading();
        uni.showToast({
          title: '条形码为必填项',
          icon: "none" });

        return;
      }
      var that = this;
      var type_s = {};
      for (var i = 0; i < this.items.length; i++) {
        if (this.items[i].checked) {
          type_s[[this.items[i].value]] = 1;
        }
      }
      if (that.voice != "") {
        that.upRecord(that.voice, that.qiniuToken).then(function (res) {
          sound = res.imageURL;
          that.upImgs(that.imgArr, that.qiniuToken).then(function (original_image) {var _original_image;
            original_image = _toConsumableArray(new Set((_original_image = original_image).concat.apply(_original_image, _toConsumableArray(_this4.imgArrRes))));
            console.log(that.shoeboxImgArr);
            that.upImgs(that.shoeboxImgArr, that.qiniuToken).then(function (shoes_image) {var _shoes_image;
              console.log(shoes_image);
              shoes_image = _toConsumableArray(new Set((_shoes_image = shoes_image).concat.apply(_shoes_image, _toConsumableArray(_this4.shoeboxImgResArr))));
              that.upImgs(_this4.unrepair_image, that.qiniuToken).then(function (end_image) {var _end_image;
                console.log(end_image);
                end_image = _toConsumableArray(new Set((_end_image = end_image).concat.apply(_end_image, _toConsumableArray(_this4.unrepair_imageRes))));
                (0, _request.default)("/api/auth/order", "POST", {
                  consignor_id: that.jsId,
                  bar_id: that.shapecode,
                  original_image: original_image,
                  shoes_image: shoes_image,
                  remarks: that.remarks,
                  end_image: end_image,
                  sound: sound,
                  sound_length: _this4.time,
                  is_xi: type_s['is_xi'],
                  is_xiu: type_s['is_xiu'] }).
                then(function (res) {
                  uni.hideLoading();
                  uni.showToast({
                    title: res.data.message,
                    icon: "none",
                    duration: 1000,
                    complete: function complete() {
                      if (res.data.status == 200) {
                        uni.showToast({
                          title: '添加完成',
                          icon: 'none' });

                        setTimeout(function () {
                          uni.navigateTo({
                            url: "../sweep/sweep" });

                        }, 1000);
                      }
                    } });

                });
              }).catch(function (error) {
                uni.hideLoading();
                uni.showToast({
                  title: '图片上传失败',
                  icon: "none" });

              });
            }).catch(function (error) {
              uni.hideLoading();
              uni.showToast({
                title: '图片上传失败',
                icon: "none" });

            });
          }).catch(function (error) {
            uni.hideLoading();
            uni.showToast({
              title: '图片上传失败',
              icon: "none" });

          });
        }).catch(function (res) {
          uni.hideLoading();
          uni.showToast({
            title: '录音上传失败',
            icon: "none" });

        });
      } else {
        that.upImgs(that.imgArr, that.qiniuToken).then(function (original_image) {var _original_image2;
          original_image = _toConsumableArray(new Set((_original_image2 = original_image).concat.apply(_original_image2, _toConsumableArray(_this4.imgArrRes))));
          that.upImgs(_this4.shoeboxImgArr, that.qiniuToken).then(function (shoes_image) {var _shoes_image2;
            shoes_image = _toConsumableArray(new Set((_shoes_image2 = shoes_image).concat.apply(_shoes_image2, _toConsumableArray(_this4.shoeboxImgResArr))));
            that.upImgs(_this4.unrepair_image, that.qiniuToken).then(function (end_image) {var _end_image2;
              end_image = _toConsumableArray(new Set((_end_image2 = end_image).concat.apply(_end_image2, _toConsumableArray(_this4.unrepair_imageRes))));
              var url = "/api/auth/order";
              if (_this4.resData.length) {
                url = '/api/auth/updateOrder';
              }
              console.log(shoes_image);
              (0, _request.default)(url, "POST", {
                consignor_id: that.jsId,
                bar_id: that.shapecode,
                original_image: original_image,
                shoes_image: shoes_image,
                remarks: that.remarks,
                end_image: end_image,
                sound: sound,
                is_xi: type_s['is_xi'],
                is_xiu: type_s['is_xiu'] }).
              then(function (res) {
                uni.hideLoading();
                uni.showToast({
                  title: res.data.message,
                  icon: "none",
                  duration: 1000,
                  complete: function complete() {
                    uni.showToast({
                      title: '添加完成',
                      icon: 'none' });

                    setTimeout(function () {
                      uni.navigateTo({
                        url: "../sweep/sweep" });

                    }, 1000);
                  } });

              });
            }).catch(function (error) {
              uni.hideLoading();
              uni.showToast({
                title: '图片上传失败',
                icon: "none" });

            });
          }).catch(function (error) {
            uni.hideLoading();
            uni.showToast({
              title: '图片上传失败',
              icon: "none" });

          });
        }).catch(function (error) {
          uni.hideLoading();
          uni.showToast({
            title: '图片上传失败',
            icon: "none" });

        });
      }
    },
    // 不可修复
    no_submit: function no_submit() {var _this5 = this;
      uni.showLoading({
        mask: true,
        title: "加载中..." });

      var sound = '';
      if (this.imgArr.length == 0) {
        uni.hideLoading();
        uni.showToast({
          title: '至少添加一张瑕疵图片',
          icon: "none" });

        return;
      }
      if (this.shapecode === "") {
        uni.hideLoading();
        uni.showToast({
          title: '条形码为必填项',
          icon: "none" });

        return;
      }
      var that = this;
      var type_s = {};
      for (var i = 0; i < this.items.length; i++) {
        if (this.items[i].checked) {
          type_s[[this.items[i].value]] = 1;
        }
      }
      if (that.voice != "") {
        that.upRecord(that.voice, that.qiniuToken).then(function (res) {
          sound = res.imageURL;
          that.upImgs(that.imgArr, that.qiniuToken).then(function (original_image) {
            console.log(original_image);
            that.upImgs(_this5.shoeboxImgArr, that.qiniuToken).then(function (shoes_image) {
              console.log(shoes_image);
              var unrepair_image = shoes_image;
              (0, _request.default)("/api/auth/order", "POST", {
                consignor_id: that.jsId,
                bar_id: that.shapecode,
                original_image: original_image,
                shoes_image: shoes_image,
                remarks: that.remarks,
                unrepair_image: unrepair_image,
                sound: sound,
                sound_length: _this5.time,
                is_xi: type_s['is_xi'],
                is_xiu: type_s['is_xiu'],
                states: 5 }).
              then(function (res) {
                uni.hideLoading();
                uni.showToast({
                  title: res.data.message,
                  icon: "none",
                  duration: 1000,
                  complete: function complete() {
                    if (res.data.status == 200) {
                      uni.showToast({
                        title: '添加完成',
                        icon: 'none' });

                      setTimeout(function () {
                        uni.navigateTo({
                          url: "../sweep/sweep" });

                      }, 1000);
                    }
                  } });

              });
            }).catch(function (error) {
              uni.hideLoading();
              uni.showToast({
                title: '图片上传失败',
                icon: "none" });

            });
          }).catch(function (error) {
            uni.hideLoading();
            uni.showToast({
              title: '图片上传失败',
              icon: "none" });

          });
        }).catch(function (res) {
          uni.hideLoading();
          uni.showToast({
            title: '录音上传失败',
            icon: "none" });

        });
      } else {
        that.upImgs(that.imgArr, that.qiniuToken).then(function (original_image) {
          console.log(original_image);
          that.upImgs(_this5.shoeboxImgArr, that.qiniuToken).then(function (shoes_image) {
            console.log(shoes_image);
            var unrepair_image = shoes_image;
            (0, _request.default)("/api/auth/order", "POST", {
              consignor_id: that.jsId,
              bar_id: that.shapecode,
              original_image: original_image,
              unrepair_image: unrepair_image,
              shoes_image: shoes_image,
              remarks: that.remarks,
              sound: sound,
              is_xi: type_s['is_xi'],
              is_xiu: type_s['is_xiu'],
              states: 5 }).
            then(function (res) {
              uni.hideLoading();
              uni.showToast({
                title: res.data.message,
                icon: "none",
                duration: 1000,
                complete: function complete() {
                  uni.showToast({
                    title: '添加完成',
                    icon: 'none' });

                  setTimeout(function () {
                    uni.navigateTo({
                      url: "../sweep/sweep" });

                  }, 1000);
                } });

            });
          }).catch(function (error) {
            uni.hideLoading();
            uni.showToast({
              title: '图片上传失败',
              icon: "none" });

          });
        }).catch(function (error) {
          uni.hideLoading();
          uni.showToast({
            title: '图片上传失败',
            icon: "none" });

        });
      }
    } }) };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 76:
/*!**********************************************************************************************!*\
  !*** C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./repair.vue?vue&type=style&index=0&lang=css& */ 77);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_repair_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 77:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/11851/Desktop/xiaci2/pages/repair/repair.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[70,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/repair/repair.js.map